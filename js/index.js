(()=>{var e={444:()=>{let e=!1;function t(){if(!1===e){document.getElementsByClassName("topnav")[0].style.width="118px";let t=document.getElementById("hamburger");t.classList.remove("fa-bars"),t.classList.add("fa-close"),e=!0}else{document.getElementsByClassName("topnav")[0].style.width="0";let t=document.getElementById("hamburger");t.classList.add("fa-bars"),t.classList.remove("fa-close"),e=!1}}window.addEventListener("load",(function(){document.getElementById("hamburger").addEventListener("click",t)}))}},t={};function s(r){var i=t[r];if(void 0!==i)return i.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,s),n.exports}(()=>{"use strict";s(444);class e{value;next;constructor(e){this.value=e}}class t{#e;#t;#s;constructor(){this.clear()}enqueue(t){const s=new e(t);this.#e?(this.#t.next=s,this.#t=s):(this.#e=s,this.#t=s),this.#s++}dequeue(){const e=this.#e;if(e)return this.#e=this.#e.next,this.#s--,e.value}clear(){this.#e=void 0,this.#t=void 0,this.#s=0}get size(){return this.#s}*[Symbol.iterator](){let e=this.#e;for(;e;)yield e.value,e=e.next}}const r={0:144e5,1:144e5,2:288e5,3:864e5,4:1728e5,5:6048e5,6:12096e5,7:2592e6,8:5184e6};function i(e){for(var t=1;t<arguments.length;t++)if(void 0===arguments[t])throw new TypeError("Failed to execute '"+e+"'. Missing argument(s).")}class n{constructor(e,t,s){if(this.name=e,this.description=t,this.cards=[],null!=s)for(let e=0;e<s.length;++e){let t=s[e],r=t.getElementsByClassName("question")[0].value,i=t.getElementsByClassName("answer")[0].value.trim();""!==r&&""!==i&&this.cards.push({q:r,ans:i,nextReview:0,stage:0})}}review(){return new a(this.cards)}static unserialise(e){i("loadFromJSON",e);let t=new n;return Object.assign(t,JSON.parse(e)),t}serialise(){return this.reviews=[],JSON.stringify(this)}}class a{constructor(e){i("ReviewSession constructor",e),this.reviewQueue=new t,this.summary={correct:[],wrong:[]},this.cards=e,this.current=null;let s=Date.now();for(let e=0;e<this.cards.length;++e){let t=this.cards[e];s>t.nextReview&&t.stage<=8&&this.reviewQueue.enqueue({card:this.cards[e],numWrong:0})}this.reviewQueue.size>0&&(this.current=this.reviewQueue.dequeue())}nextCard(){return null===this.current?null:this.current.card}logAns(e){if(i("logAns",e),this.done)return;let t=Date.now(),s=this.current.card,n=!1;if(e.trim()===s.ans)if(n=!0,this.current.numWrong>0){let e=s.stage>=5?2:1,t=s.stage-Math.ceil(this.current.numWrong/2*e);s.stage=t>0?t:1,this.summary.wrong.push(s)}else s.stage+=1,this.summary.correct.push(s);else this.reviewQueue.enqueue({card:s,numWrong:this.current.numWrong+1});return s.nextReview=function(e){let t=36e5;return Math.floor(e/t)*t}(t+r[s.stage]),0===this.reviewQueue.size?this.current=null:this.current=this.reviewQueue.dequeue(),n}}let u=null;window.onload=function(){!function(){let e=localStorage.getItem("user-decks");u=e?JSON.parse(e):[];let t=document.getElementById("main-content");if(0===u.length)t.innerHTML="<p>No flashcard decks. </p><a href='create-deck.html'>Create a new deck?</a>";else{let e=document.createElement("div");e.id="cardlist";for(let t=0;t<u.length;++t)u[t]=n.unserialise(u[t]),e.innerHTML+="<p>Deck #"+(t+1)+": <a href='review-deck.html?deck-index="+t+"'>"+u[t].name+"</a></p>";t.appendChild(e)}}()}})()})();